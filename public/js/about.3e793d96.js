(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"07ac":function(t,e,r){var s=r("23e7"),a=r("6f53").values;s({target:"Object",stat:!0},{values:function(t){return a(t)}})},1148:function(t,e,r){"use strict";var s=r("a691"),a=r("1d80");t.exports="".repeat||function(t){var e=String(a(this)),r="",i=s(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(r+=e);return r}},"159b":function(t,e,r){var s=r("da84"),a=r("fdbc"),i=r("17c2"),o=r("9112");for(var n in a){var c=s[n],l=c&&c.prototype;if(l&&l.forEach!==i)try{o(l,"forEach",i)}catch(u){l.forEach=i}}},"159d":function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",[r("b-row",{staticClass:"just\n    ify-content-center"},[r("h1",[t._v("Estado de los pedidos")])]),r("b-row",{staticClass:"justify-content-center"},t._l(this.orders,(function(e){return r("b-card",{key:e.index,staticClass:"text-center mt-3 mr-3",attrs:{"bg-variant":t.getColor(e),header:t.getTitle(e),"body-bg-variant":"white","header-class":"card-title text-xl-center"}},[r("b-card-text",[t._v("Pedido del usuario "+t._s(e.user.email))]),r("b-card-text",[t._v("Dirección de envío : "+t._s(e.user.address)+" . "+t._s(e.user.city))]),r("b-card-text",[t._v("Realizado el dia "+t._s(e.created_at))]),e.sent_date?r("b-card-text",[t._v("Enviado el dia "+t._s(e.sent_date))]):t._e(),e.received_date?r("b-card-text",[t._v("Recibido el dia "+t._s(e.received_date))]):t._e(),e.received_date?t._e():r("b-button",{staticClass:"mr-2 ml-2",attrs:{variant:"outline-success"},on:{click:function(r){return t.markAsReceived(e)}}},[t._v(" Marcar como recibido ")]),e.sent_date?t._e():r("b-button",{staticClass:"mr-2 ml-2",attrs:{variant:"outline-danger"},on:{click:function(r){return t.cancelOrder(e)}}},[t._v(" Anular pedido ")])],1)})),1)],1)},a=[],i=r("bc3a"),o=r.n(i),n={name:"Orders",data:function(){return{orders:[]}},created:function(){this.refreshOrders()},computed:{},methods:{refreshOrders:function(){var t=this,e=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_HOST+"/api/v1/orders";o.a.get(e,{headers:{Authorization:"Bearer "+this.$store.state.auth.user.token}}).then((function(e){t.orders=e.data})).catch((function(t){return console.log(t)}))},getColor:function(t){return null==t.sent_date?"danger":null==t.received_date?"warning":"success"},getTitle:function(t){return null==t.sent_date?"Pedido #"+t.id+" - Pendiente de envio":null==t.received_date?"Pedido #"+t.id+" - Enviado":"Pedido #"+t.id+" - Recibido"},markAsReceived:function(t){var e=this,r=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_HOST+"/api/v1/orders";o.a.get(r+"/"+t.id+"/receive",{headers:{Authorization:"Bearer "+this.$store.state.auth.user.token}}).then((function(t){e.orders=t.data,e.refreshOrders()})).catch((function(t){return console.log(t)}))},cancelOrder:function(t){var e=this,r=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_HOST+"/api/v1/orders";o.a.get(r+"/"+t.id+"/cancel",{headers:{Authorization:"Bearer "+this.$store.state.auth.user.token}}).then((function(t){e.orders=t.data,e.refreshOrders()})).catch((function(t){return console.log(t)}))}}},c=n,l=(r("a1c8"),r("2877")),u=Object(l["a"])(c,s,a,!1,null,"0d68a80e",null);e["default"]=u.exports},1733:function(t,e,r){"use strict";var s=r("9149"),a=r.n(s);a.a},"17c2":function(t,e,r){"use strict";var s=r("b727").forEach,a=r("a640"),i=r("ae40"),o=a("forEach"),n=i("forEach");t.exports=o&&n?[].forEach:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}},"408a":function(t,e,r){var s=r("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=s(t))throw TypeError("Incorrect invocation");return+t}},4160:function(t,e,r){"use strict";var s=r("23e7"),a=r("17c2");s({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},"4de4":function(t,e,r){"use strict";var s=r("23e7"),a=r("b727").filter,i=r("1dde"),o=r("ae40"),n=i("filter"),c=o("filter");s({target:"Array",proto:!0,forced:!n||!c},{filter:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},"6f53":function(t,e,r){var s=r("83ab"),a=r("df75"),i=r("fc6a"),o=r("d1e7").f,n=function(t){return function(e){var r,n=i(e),c=a(n),l=c.length,u=0,d=[];while(l>u)r=c[u++],s&&!o.call(n,r)||d.push(t?[r,n[r]]:n[r]);return d}};t.exports={entries:n(!0),values:n(!1)}},7011:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",{staticClass:"p-2"},[r("div",[r("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",variant:"success"},on:{dismissed:function(e){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[t._v(" Añadido a la cesta correctamente "),r("b-progress",{attrs:{variant:"warning",max:t.dismissSecs,value:t.dismissCountDown,height:"4px"}})],1)],1),r("b-card",{staticClass:"overflow-hidden"},[r("b-row",[r("b-col",{attrs:{md:"6"}},[r("b-card-img",{staticClass:"rounded-0",attrs:{src:t.product.image,alt:"Image"}})],1),r("b-col",{attrs:{md:"6"}},[r("b-card-body",{attrs:{title:t.product.name}},[r("b-card-text",[t._v(" "+t._s(t.product.description)+" ")]),r("b-card-text",{staticClass:"alert-info text-xl-center text-dark"},[t._v(" Precio "),r("b-icon-box-arrow-in-right"),r("span",{staticClass:"font-weight-bold"},[t._v(" "+t._s(t.product.price.toFixed(2))+" ")]),t._v(" € ")],1)],1),r("b-button",{staticClass:"mr-2 ml-2",attrs:{variant:"outline-success"},on:{click:function(e){return t.addToCart()}}},[t._v("Añadir a la cesta")])],1)],1)],1)],1)},a=[],i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div")},o=[],n={name:"Product"},c=n,l=r("2877"),u=Object(l["a"])(c,i,o,!1,null,"f58a3f68",null),d=u.exports,m=r("bc3a"),f=r.n(m),h={name:"ProductDetails",components:{Product:d},data:function(){return{product:this.$route.params,dismissSecs:5,dismissCountDown:0,showDismissibleAlert:!1}},methods:{addToCart:function(){this.$store.commit("addToCart",this.product),this.showAlert()},countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs},refreshCart:function(){var t=this,e=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_HOST+"/api/v1/cart/myproducts";f.a.get(e,{headers:{Authorization:"Bearer "+this.$store.state.auth.user.token}}).then((function(e){t.$store.commit("refreshCart",e.data),t.products=t.$store.state.cart})).catch((function(t){500==t.response.status&&console.log(t.response)}))}}},p=h,b=Object(l["a"])(p,s,a,!1,null,"d7903db0",null);e["default"]=b.exports},"73cf":function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",[r("div",[r("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",variant:t.level},on:{dismissed:function(e){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.message)+" "),r("b-progress",{attrs:{variant:t.level,max:t.dismissSecs,value:t.dismissCountDown,height:"4px"}})],1)],1),r("b-card",{attrs:{"bg-variant":"light"}},[r("b-form",[r("b-form-group",{attrs:{id:"input-group-2",label:"Nombre Completo","label-for":"input-2"}},[r("b-form-input",{attrs:{id:"input-2",required:"",placeholder:"Nombre"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),r("b-form-group",{attrs:{id:"input-group-1",label:"Correo electrónico:","label-for":"input-1",description:"El correo electrónico debe ser válido, no lo usaremos para enviar correo no deseado."}},[r("b-form-input",{attrs:{id:"input-1",type:"email",required:"",placeholder:"Correo electrónico"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),r("b-form-group",{attrs:{id:"input-group-3",label:"Contraseña","label-for":"input-2"}},[r("b-form-input",{attrs:{id:"input-2",required:"",placeholder:"Contraseña",type:"password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),r("b-form-group",{attrs:{id:"input-group-4",label:"Confirmar contraseña","label-for":"input-2"}},[r("b-form-input",{attrs:{id:"input-4",required:"",placeholder:"Confirmar contraseña",type:"password"},model:{value:t.form.password_confirmation,callback:function(e){t.$set(t.form,"password_confirmation",e)},expression:"form.password_confirmation"}})],1),r("b-button",{staticClass:"btn btn-outline-success btn-block mt-3",attrs:{type:"button",variant:"outline-success"},on:{click:function(e){return t.register()}}},[t._v("Registrarse")])],1)],1)],1)},a=[],i=r("ebd1"),o=r("bc3a"),n=r.n(o),c={name:"Register",data:function(){return{user:new i["a"],form:{email:"",name:"",password:"",password_confirmation:""},level:"warning",show:!0,message:"",dismissSecs:5,dismissCountDown:0,showDismissibleAlert:!1}},methods:{register:function(){var t=this,e=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_HOST+"/api/v1/users/register",r=this.form;r["currentCart"]=this.$store.state.cart,n.a.post(e,r).then((function(e){t.message="Usuario creado correctamente",t.level="success",t.showAlert(),t.$store.commit("emptyCart"),console.log(e.data),t.user.email=r.email,t.user.password=r.password,t.$store.dispatch("auth/login",t.user),t.$store.commit("refreshCart")})).catch((function(e){if(e.response){var r="";for(var s in e.response.data)r+=e.response.data[s][0]+"\n";t.level="warning",t.message=r,t.showAlert()}}))},countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs}}},l=c,u=r("2877"),d=Object(u["a"])(l,s,a,!1,null,"0b5e5cce",null);e["default"]=d.exports},"7cb4":function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",[r("div",{staticClass:"mt-3"},[r("b-card",{attrs:{"bg-variant":"light"}},[r("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Confirma la direccion de envío","label-size":"lg","label-class":"font-weight-bold pt-0"}},[r("b-form-group",{attrs:{"label-cols-sm":"3",label:"Dirección:","label-align-sm":"right","label-for":"address"}},[r("b-form-input",{attrs:{id:"address",required:""},model:{value:t.user.address,callback:function(e){t.$set(t.user,"address",e)},expression:"user.address"}})],1),r("b-form-group",{attrs:{"label-cols-sm":"3",label:"Ciudad:","label-align-sm":"right","label-for":"city"}},[r("b-form-input",{attrs:{id:"city",required:""},model:{value:t.user.city,callback:function(e){t.$set(t.user,"city",e)},expression:"user.city"}})],1),r("b-form-group",{attrs:{"label-cols-sm":"3",label:"Codigo postal:","label-align-sm":"right","label-for":"postal_code"}},[r("b-form-input",{attrs:{id:"postal_code",required:""},model:{value:t.user.postal_code,callback:function(e){t.$set(t.user,"postal_code",e)},expression:"user.postal_code"}})],1)],1)],1)],1),r("div",{staticClass:"mt-3"},[r("b-card",{attrs:{"bg-variant":"light"}},[r("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Selecciona el metodo de envio","label-size":"lg","label-class":"font-weight-bold pt-0"}},[r("b-form-radio-group",{staticClass:"pt-2"},[r("b-form-radio",{attrs:{name:"shipping",value:"2"},model:{value:t.shipping_method,callback:function(e){t.shipping_method=e},expression:"shipping_method"}},[t._v("Correos Urgente +2€ ")]),r("b-form-radio",{attrs:{name:"shipping",value:"0"},model:{value:t.shipping_method,callback:function(e){t.shipping_method=e},expression:"shipping_method"}},[t._v("Correos Normal - Gratis ")]),r("b-form-radio",{attrs:{name:"shipping",value:"3"},model:{value:t.shipping_method,callback:function(e){t.shipping_method=e},expression:"shipping_method"}},[t._v("Mensajería +3€")])],1)],1)],1)],1),r("div",{staticClass:"mt-3"},[r("b-card",{attrs:{"bg-variant":"light"}},[r("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Selecciona el metodo de pago","label-size":"lg","label-class":"font-weight-bold pt-0"}},[r("b-form-radio-group",{staticClass:"pt-2"},[r("b-form-radio",{attrs:{name:"payment",value:"1"},model:{value:t.payment_method,callback:function(e){t.payment_method=e},expression:"payment_method"}},[t._v("Contra reembolso")]),r("b-form-radio",{attrs:{disabled:"",name:"payment",value:"0"},model:{value:t.payment_method,callback:function(e){t.payment_method=e},expression:"payment_method"}},[t._v("Paypal")]),r("b-form-radio",{attrs:{disabled:"",name:"payment",value:"3"},model:{value:t.payment_method,callback:function(e){t.payment_method=e},expression:"payment_method"}},[t._v("Tarjeta de crédito ")])],1)],1)],1)],1),r("div",{staticClass:"mt-3"},[r("b-card",{staticClass:"mt-3",attrs:{"bg-variant":"light"}},[r("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Total a pagar","label-size":"lg","label-class":"font-weight-bold pt-0"}},[t._v(" Productos : "+t._s(this.totalPrice())+" , Envío "+t._s(this.shipping())+" "),r("h2",[t._v("Total: "+t._s(parseFloat(this.totalPrice())+parseFloat(this.shipping()))+" €")])])],1)],1),r("div",[r("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",variant:"error"},on:{dismissed:function(e){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.message)+" "),r("b-progress",{attrs:{variant:"warning",max:t.dismissSecs,value:t.dismissCountDown,height:"4px"}})],1)],1),this.$store.state.auth.status.loggedIn?r("b-button",{staticClass:"btn btn-outline-success btn-block mt-3",attrs:{type:"button",variant:"outline-success"},on:{click:function(e){return t.checkout()}}},[t._v("Confirmar compra ")]):r("b-button",{staticClass:"btn btn-outline-success btn-block mt-3",attrs:{to:{name:"Register"},type:"button",variant:"outline-success"}},[t._v("Registrate para finalizar la compra ")])],1)},a=[],i=(r("13d5"),r("b0c0"),r("b680"),r("07ac"),r("ebd1")),o=r("bc3a"),n=r.n(o),c=r("b789"),l={name:"Checkout",components:{Cart:c["default"]},data:function(){return{user:new i["a"],products:[],shipping_method:"",payment_method:"",dismissSecs:5,dismissCountDown:0,showDismissibleAlert:!1,message:""}},created:function(){this.refreshProfile(),this.products=this.$store.state.cart},methods:{refreshProfile:function(){var t=this,e=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_HOST+"/api/v1/users/myuser";n.a.get(e,{headers:{Authorization:"Bearer "+this.$store.state.auth.user.token}}).then((function(e){t.user.email=e.data.user.email,t.user.name=e.data.user.name,t.user.address=e.data.user.address,t.user.city=e.data.user.city,t.user.postal_code=e.data.user.postal_code,t.user.profile_picture=e.data.user.picture}))},totalPrice:function(){var t=this.products.reduce((function(t,e){return t+Object.values(e)[2]}),0);return t.toFixed(2)},shipping:function(){return isNaN(this.shipping_method)||null==this.shipping_method||""===this.shipping_method?0:parseFloat(this.shipping_method).toFixed(2)},checkout:function(){var t=this;if(isNaN(this.shipping_method)||null==this.shipping_method||""===this.shipping_method)this.message="Debe seleccionar un método de envío",this.showAlert();else if(isNaN(this.payment_method)||null==this.payment_method||""===this.payment_method)this.message="Debe seleccionar un método de pago",this.showAlert();else{var e=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_HOST+"/api/v1/orders/create",r={payment_method:this.payment_method,shipping_method:this.shipping_method};n.a.post(e,r,{headers:{Authorization:"Bearer "+this.$store.state.auth.user.token}}).then((function(e){console.log(e),t.showMsgOk()}))}},showMsgOk:function(){var t=this;this.message="Compra realizada correctamente, volviendo a la página principal",this.showAlert(),this.$store.commit("emptyCart"),this.$store.commit("refreshCart"),setTimeout((function(){t.$router.push("/")}),5e3)},countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs}}},u=l,d=r("2877"),m=Object(d["a"])(u,s,a,!1,null,"fde4bd70",null);e["default"]=m.exports},"860c":function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",[r("b-row",{staticClass:"justify-content-center"},[r("h1",[t._v("Administración de pedidos")])]),r("b-row",{staticClass:"justify-content-center"},t._l(this.orders,(function(e){return r("b-card",{key:e.index,staticClass:"text-center mt-3 mr-3",attrs:{"bg-variant":t.getColor(e),header:t.getTitle(e),"body-bg-variant":"white","header-class":"card-title text-xl-center"}},[r("b-card-text",[t._v("Pedido del usuario "+t._s(e.user.email))]),r("b-card-text",[t._v("Realizado el dia "+t._s(e.created_at))]),e.sent_date?r("b-card-text",[t._v("Enviado el dia "+t._s(e.sent_date))]):t._e(),e.received_date?r("b-card-text",[t._v("Recibido el dia "+t._s(e.received_date))]):t._e(),e.sent_date?t._e():r("b-button",{staticClass:"mr-2 ml-2",attrs:{variant:"outline-success"},on:{click:function(r){return t.markAsSent(e)}}},[t._v(" Marcar como enviado ")]),e.sent_date?t._e():r("b-button",{staticClass:"mr-2 ml-2",attrs:{variant:"outline-danger"},on:{click:function(r){return t.cancelOrder(e)}}},[t._v(" Anular pedido ")])],1)})),1)],1)},a=[],i=r("bc3a"),o=r.n(i),n={name:"Orders",data:function(){return{orders:[]}},created:function(){this.refreshOrders()},computed:{},methods:{refreshOrders:function(){var t=this,e=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_HOST+"/api/v1/orders";o.a.get(e,{headers:{Authorization:"Bearer "+this.$store.state.auth.user.token}}).then((function(e){t.orders=e.data})).catch((function(t){return console.log(t)}))},getColor:function(t){return null==t.sent_date?"danger":null==t.received_date?"warning":"success"},getTitle:function(t){return null==t.sent_date?"Pedido #"+t.id+" - Pendiente de envio":null==t.received_date?"Pedido #"+t.id+" - Enviado":"Pedido #"+t.id+" - Recibido"},markAsSent:function(t){var e=this,r=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_HOST+"/api/v1/orders";o.a.get(r+"/"+t.id+"/send",{headers:{Authorization:"Bearer "+this.$store.state.auth.user.token}}).then((function(t){e.orders=t.data,e.refreshOrders()})).catch((function(t){return console.log(t)}))},cancelOrder:function(t){var e=this,r=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_HOST+"/api/v1/orders";o.a.get(r+"/"+t.id+"/cancel",{headers:{Authorization:"Bearer "+this.$store.state.auth.user.token}}).then((function(t){e.orders=t.data,e.refreshOrders()})).catch((function(t){return console.log(t)}))}}},c=n,l=(r("1733"),r("2877")),u=Object(l["a"])(c,s,a,!1,null,"0c92b450",null);e["default"]=u.exports},"8ac3":function(t,e,r){},9149:function(t,e,r){},a1c8:function(t,e,r){"use strict";var s=r("8ac3"),a=r.n(s);a.a},a20f:function(t,e,r){},b0c0:function(t,e,r){var s=r("83ab"),a=r("9bf2").f,i=Function.prototype,o=i.toString,n=/^\s*function ([^ (]*)/,c="name";s&&!(c in i)&&a(i,c,{configurable:!0,get:function(){try{return o.call(this).match(n)[1]}catch(t){return""}}})},b680:function(t,e,r){"use strict";var s=r("23e7"),a=r("a691"),i=r("408a"),o=r("1148"),n=r("d039"),c=1..toFixed,l=Math.floor,u=function(t,e,r){return 0===e?r:e%2===1?u(t,e-1,r*t):u(t*t,e/2,r)},d=function(t){var e=0,r=t;while(r>=4096)e+=12,r/=4096;while(r>=2)e+=1,r/=2;return e},m=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n((function(){c.call({})}));s({target:"Number",proto:!0,forced:m},{toFixed:function(t){var e,r,s,n,c=i(this),m=a(t),f=[0,0,0,0,0,0],h="",p="0",b=function(t,e){var r=-1,s=e;while(++r<6)s+=t*f[r],f[r]=s%1e7,s=l(s/1e7)},g=function(t){var e=6,r=0;while(--e>=0)r+=f[e],f[e]=l(r/t),r=r%t*1e7},v=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==f[t]){var r=String(f[t]);e=""===e?r:e+o.call("0",7-r.length)+r}return e};if(m<0||m>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(h="-",c=-c),c>1e-21)if(e=d(c*u(2,69,1))-69,r=e<0?c*u(2,-e,1):c/u(2,e,1),r*=4503599627370496,e=52-e,e>0){b(0,r),s=m;while(s>=7)b(1e7,0),s-=7;b(u(10,s,1),0),s=e-1;while(s>=23)g(1<<23),s-=23;g(1<<s),b(1,1),g(2),p=v()}else b(0,r),b(1<<-e,0),p=v()+o.call("0",m);return m>0?(n=p.length,p=h+(n<=m?"0."+o.call("0",m-n)+p:p.slice(0,n-m)+"."+p.slice(n-m))):p=h+p,p}})},b727:function(t,e,r){var s=r("0366"),a=r("44ad"),i=r("7b0b"),o=r("50c4"),n=r("65f0"),c=[].push,l=function(t){var e=1==t,r=2==t,l=3==t,u=4==t,d=6==t,m=5==t||d;return function(f,h,p,b){for(var g,v,_=i(f),C=a(_),w=s(h,p,3),x=o(C.length),E=0,y=b||n,P=e?y(f,x):r?y(f,0):void 0;x>E;E++)if((m||E in C)&&(g=C[E],v=w(g,E,_),t))if(e)P[E]=v;else if(v)switch(t){case 3:return!0;case 5:return g;case 6:return E;case 2:c.call(P,g)}else if(u)return!1;return d?-1:l||u?u:P}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},b789:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",[t._l(t.groupedProducts,(function(e){return r("b-card",{key:e[0].index,staticClass:"overflow-hidden mt-1 border rounded-sm ",attrs:{title:e[0].name,"img-alt":"Image","img-top":"",tag:"article"}},[r("b-row",{attrs:{"no-gutters":""}},["mobile"==t.mediaSize?r("b-row",[r("b-card-img",{staticClass:"rounded-0 mb-2",attrs:{src:e[0].image,alt:"Image"}})],1):r("b-col",{staticClass:"col-md-4",attrs:{"align-self":"center"}},[r("b-card-img",{staticClass:"rounded-0",attrs:{src:e[0].image,alt:"Image"}})],1),r("b-col",{attrs:{"align-self":"center"}},[t._v(" Cantidad "),r("b-icon-dash-circle",{staticClass:"nosel ml-1",attrs:{role:"button"},on:{click:function(r){return t.removeFromCart(e[0])}}}),t._v(" "+t._s(e.length)+" "),r("b-icon-plus-circle",{staticClass:"nosel",attrs:{role:"button"},on:{click:function(r){return t.addToCart(e[0])}}})],1),r("b-col",{attrs:{"align-self":"center"}},[t._v(" Precio "+t._s(e[0].price.toFixed(2))+" ")]),r("b-col",{attrs:{"align-self":"center"}},[r("b-button",{staticClass:"mr-2 ml-2",attrs:{variant:"outline-success",to:{name:"ProductDetails",params:e[0]}}},[t._v(" Ver Detalles ")])],1),r("b-col",{attrs:{"align-self":"center"}},[r("b-button",{staticClass:"mr-2 ml-2 ",attrs:{variant:"outline-danger"},on:{click:function(r){return t.emptyCart(e[0])}}},[t._v(" Eliminar ")])],1),r("b-col",{attrs:{"align-self":"center"}},[t._v(" Total "+t._s(e.map((function(t){return t.price})).reduce((function(t,e){return e+t})).toFixed(2))+" ")])],1)],1)})),r("b-card",{staticClass:"overflow-hidden mt-1 border rounded-sm ",attrs:{title:"Total de la compra",tag:"article"}},[t._v(" Total "+t._s(this.totalPrice)+" ")]),this.$store.state.auth.status.loggedIn?r("b-button",{staticClass:"btn btn-outline-success btn-block mt-3",attrs:{to:{name:"Checkout"},type:"button",variant:"outline-success"}},[t._v("Confirmar compra ")]):r("b-button",{staticClass:"btn btn-outline-success btn-block mt-3",attrs:{to:{name:"Register"},type:"button",variant:"outline-success"}},[t._v("Registrate para finalizar la compra ")])],2)},a=[],i=(r("4de4"),r("4160"),r("13d5"),r("b680"),r("07ac"),r("159b"),{name:"Cart",data:function(){return{products:[],groupedProducts:[],category:this.$route.params}},created:function(){this.products=this.$store.state.cart,this.groupedProducts=_.groupBy(this.products,"id")},computed:{mediaSize:function(){return this.$mq},totalPrice:function(){var t=this.products.reduce((function(t,e){return t+Object.values(e)[2]}),0);return t.toFixed(2)},productsPerRow:function(){return this.products.reduce((function(t,e,r){return r%5===0&&t.push([]),t[t.length-1].push(e),t}),[])}},methods:{removeFromCart:function(t){this.$store.commit("removeFromCart",t),this.products=this.$store.state.cart,this.groupedProducts=_.groupBy(this.products,"id")},addToCart:function(t){this.$store.commit("addToCart",t),this.products=this.$store.state.cart,this.groupedProducts=_.groupBy(this.products,"id")},emptyCart:function(t){var e=this;this.$bvModal.msgBoxConfirm("¿Desea eliminar todos los productos del carro?.",{title:"Por favor confirme la eliminación",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"SI",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(r){r&&e.products.filter((function(e){return e.id==t.id})).forEach((function(t){return e.removeFromCart(t)}))})).catch((function(t){console.log(t)}))}}}),o=i,n=(r("ef5d"),r("2877")),c=Object(n["a"])(o,s,a,!1,null,"083feb4e",null);e["default"]=c.exports},c66d:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",[r("div",[r("b-alert",{attrs:{show:t.dismissCountDown,dismissible:"",variant:t.level},on:{dismissed:function(e){t.dismissCountDown=0},"dismiss-count-down":t.countDownChanged}},[t._v(" "+t._s(t.message)+" "),r("b-progress",{attrs:{variant:t.level,max:t.dismissSecs,value:t.dismissCountDown,height:"4px"}})],1),r("b-card",{staticClass:"mb-3",attrs:{"bg-variant":"light"}},[r("b-img",{staticClass:"mb-3",staticStyle:{"max-height":"200px","max-width":"200px"},attrs:{src:t.getProfilePic(),thumbnail:"",center:"",fluid:"",rounded:"circle"}}),r("b-form-group",{attrs:{label:"Imagen de perfil","label-for":"form-image","label-cols-lg":"2"}},[r("b-input-group",[r("b-input-group-prepend",{attrs:{"is-text":""}},[r("b-icon",{attrs:{icon:"image-fill"}})],1),r("b-form-file",{attrs:{id:"profile_picture",placeholder:"Elige un fichero o arrástralo aquí",accept:"image/*","browse-text":"Seleccionar",capture:""},model:{value:t.profilepic,callback:function(e){t.profilepic=e},expression:"profilepic"}})],1)],1)],1),r("b-card",{staticClass:"mb-3",attrs:{"bg-variant":"light"}},[r("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Datos del usuario","label-size":"lg","label-class":"font-weight-bold pt-0"}},[r("b-form-group",{attrs:{"label-cols-sm":"3",label:"Nombre:","label-align-sm":"right","label-for":"name"}},[r("b-form-input",{attrs:{id:"name"},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}})],1),r("b-form-group",{attrs:{"label-cols-sm":"3",label:"Email:","label-align-sm":"right","label-for":"email"}},[r("b-form-input",{attrs:{id:"email"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1)],1)],1)],1),r("div",[r("b-card",{attrs:{"bg-variant":"light"}},[r("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Direccion de envío","label-size":"lg","label-class":"font-weight-bold pt-0"}},[r("b-form-group",{attrs:{"label-cols-sm":"3",label:"Dirección:","label-align-sm":"right","label-for":"address"}},[r("b-form-input",{attrs:{id:"address"},model:{value:t.user.address,callback:function(e){t.$set(t.user,"address",e)},expression:"user.address"}})],1),r("b-form-group",{attrs:{"label-cols-sm":"3",label:"Ciudad:","label-align-sm":"right","label-for":"city"}},[r("b-form-input",{attrs:{id:"city"},model:{value:t.user.city,callback:function(e){t.$set(t.user,"city",e)},expression:"user.city"}})],1),r("b-form-group",{attrs:{"label-cols-sm":"3",label:"Codigo postal:","label-align-sm":"right","label-for":"postal_code"}},[r("b-form-input",{attrs:{id:"postal_code"},model:{value:t.user.postal_code,callback:function(e){t.$set(t.user,"postal_code",e)},expression:"user.postal_code"}})],1)],1)],1)],1),r("b-row",{staticClass:"mt-3",attrs:{"align-h":"center"}},[r("b-button",{staticClass:"btn btn-outline-success btn-block",attrs:{type:"button",variant:"outline-success"},on:{click:t.updateUser}},[t._v("Actualizar datos")])],1)],1)},a=[],i=(r("b0c0"),r("bc3a")),o=r.n(i),n=r("ebd1"),c={name:"Profile.vue",data:function(){return{user:new n["a"],profilepic:void 0,message:"",dismissSecs:5,dismissCountDown:0,showDismissibleAlert:!1,level:"primary"}},created:function(){this.refreshProfile()},methods:{refreshProfile:function(){var t=this,e=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_HOST+"/api/v1/users/myuser";o.a.get(e,{headers:{Authorization:"Bearer "+this.$store.state.auth.user.token}}).then((function(e){console.log(e.data.user.email),t.user.email=e.data.user.email,t.user.name=e.data.user.name,t.user.address=e.data.user.address,t.user.city=e.data.user.city,t.user.postal_code=e.data.user.postal_code,t.user.profile_picture=e.data.user.picture}))},updateUser:function(){var t=this,e=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_HOST+"/api/v1/users/update",r=new FormData;r.append("name",this.user.name),r.append("address",this.user.address),r.append("city",this.user.city),r.append("postal_code",this.user.postal_code),r.append("profile_picture",this.profilepic),o.a.post(e,r,{headers:{Authorization:"Bearer "+this.$store.state.auth.user.token}}).then((function(e){console.log(e),t.refreshProfile(),t.message="Datos actualizados correctamente",t.showAlert()})).catch((function(e){console.log(e),t.message="Error actualizando datos "+e,t.showAlert()}))},getProfilePic:function(){return""==this.user.profile_picture||null==this.user.profile_picture?"https://picsum.photos/id/20/250/250":"img/users/"+this.user.profile_picture},countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(){this.dismissCountDown=this.dismissSecs}}},l=c,u=r("2877"),d=Object(u["a"])(l,s,a,!1,null,"56789a95",null);e["default"]=d.exports},ef5d:function(t,e,r){"use strict";var s=r("a20f"),a=r.n(s);a.a},f820:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"about"},[r("h1",[t._v("This is an about page")])])}],i=r("2877"),o={},n=Object(i["a"])(o,s,a,!1,null,null,null);e["default"]=n.exports},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=about.3e793d96.js.map